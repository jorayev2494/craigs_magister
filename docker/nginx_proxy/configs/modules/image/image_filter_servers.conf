location ~ "^/pages/carousel/(?<width>\d+)/(?<image>.+)$" {
    alias /var/project/storage/app/public/images/pages/carousel/$image;
    image_filter resize $width -;
    image_filter_jpeg_quality 100;
    image_filter_buffer 20M;
    # image_filter crop 100 100;
    # image_filter size;
}

location ~ "^/pages/avatar/(?<width>\d+)/(?<image>.+)$" {
    alias /var/project/storage/app/public/images/portrait/small/$image;
    image_filter resize $width -;
    image_filter_jpeg_quality 100;
    image_filter_buffer 20M;
    # image_filter crop 100 100;
    # image_filter size;
}

# This only Announcements
location ~ "^/pages/announcement/(?<concrete>[A-Za-z]+)/(?<width>\d+)/(?<image>.+)$" {
    alias /var/project/storage/app/public/images/announcement/$concrete/$image;
    image_filter resize $width -;
    image_filter_jpeg_quality 100;
    image_filter_buffer 20M;
    # image_filter crop 100 100;
    # image_filter size;
}